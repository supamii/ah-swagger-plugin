"use strict";angular.module("sw.plugin.markdown",["sw.plugins"]).factory("markdown",["$q","$log","$window",function(e,i,o){function n(o){i.debug("sw:execute","markdown");var n=e.defer();return o.info&&o.info.description&&(o.info.description=r(o.info.description.replace(/^<br ?\/?>/i,""))),angular.forEach(o.securityDefinitions,function(e){var i=e.description||"";"apiKey"===e.type&&i.toLowerCase()==="API Key Authentication".toLowerCase()?delete e.description:"basic"===e.type&&i.toLowerCase()==="Basic HTTP Authentication".toLowerCase()?delete e.description:"oauth2"===e.type&&i.toLowerCase()==="OAuth 2.0 Authentication".toLowerCase()?delete e.description:e.description=r(e.description)}),angular.forEach(o.resources,function(e){e.description=r(e.description),angular.forEach(e.operations,function(e){e.description=r(e.description),e.summary=e.summary?e.summary.replace(/(<br>)+$/,""):e.summary,angular.forEach(e.responses,function(e){e.description=r(e.description)})})}),n.resolve(),n.promise}function r(e){return t.makeHtml(e||"")}i.debug("sw:plugin","markdown");var t=new o.showdown.Converter({simplifiedAutoLink:!0,tables:!0,ghCodeBlocks:!0,tasklists:!0});return{execute:n}}]).run(["plugins","markdown",function(e,i){e.add(e.BEFORE_DISPLAY,i)}]);